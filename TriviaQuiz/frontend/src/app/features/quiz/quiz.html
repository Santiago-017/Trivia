<div class="game-bg">
  <div class="game-bg__clouds"></div>
  <!-- ðŸ§¾ SCOREBOARD (esquina superior izquierda) -->
  <div class="scoreboard">
    <!-- COOP -->
    <ng-container *ngIf="mode === 'coop'; else vsBoard">
      <div class="scoreboard__title">CO-OP</div>
      <div class="scoreboard__row">
        <span class="scoreboard__label">Team</span>
        <span class="scoreboard__value">{{ teamScore }}</span>
      </div>
    </ng-container>

    <!-- VS -->
    <ng-template #vsBoard>
      <div class="scoreboard__title">InRoom</div>

      <div class="scoreboard__table">
        <div class="scoreboard__head">
          <span>Player</span>
          <span>Points</span>
        </div>

        <div
          class="scoreboard__line"
          *ngFor="let p of players"
        >
          <span class="scoreboard__name">{{ p.nickname }}</span>
          <span class="scoreboard__pts">{{ p.score }}</span>
        </div>
      </div>
    </ng-template>
  </div>

  <div class="quiz-panel">
    <!-- Cuerdas -->
    <div class="quiz-panel__ropes">
      <div class="rope rope--left"></div>
      <div class="rope rope--right"></div>
    </div>

    <!-- ðŸ’¥ ESTADO: ESPERANDO PARA INICIAR -->
    <div *ngIf="!gameStarted" class="quiz-panel__question-card start-card">
      <!-- ðŸ†” ROOM CODE -->
      <div class="room-code" (click)="copyRoomCode()">
        <span class="room-code__label">ROOM CODE</span>
        <span class="room-code__value">{{ gameCode }}</span>
        <span class="room-code__hint">
          {{ codeCopied ? 'Copied!' : 'Click to copy' }}
      </span>
    </div>


      <h1 class="title-1 quiz-panel__question">
        Room ready to start
      </h1>

      <!-- Solo el host ve el botÃ³n -->
      <button
        *ngIf="isHost; else waitingHost"
        class="start-btn"
        type="button"
        (click)="startGameAsHost()"
      >
        START GAME
      </button>

      <!-- Los demÃ¡s solo ven mensaje -->
      <ng-template #waitingHost>
        <p class="start-hint">
          Waiting for the host to start the game...
        </p>
      </ng-template>
    </div>

    <!-- ðŸ’¥ ESTADO: JUEGO INICIADO -->
    <div *ngIf="gameStarted">
      <!-- Tarjeta de la pregunta -->
      <div class="quiz-panel__question-card">
        <h1 class="title-1 quiz-panel__question">
          {{ question }}
        </h1>
      </div>

      <!-- Timer circular -->
      <div class="quiz-panel__timer">
        <div class="timer-circle">
          <span class="timer-circle__value">{{ timer }}</span>
        </div>
      </div>

      <!-- Opciones -->
      <div class="quiz-panel__answers">
        <button
          *ngFor="let option of options; let i = index"
          type="button"
          class="answer-btn"
          [class.answer-btn--selected]="selectedIndex === i"
          (click)="selectOption(i)"
        >
          {{ option }}
        </button>
      </div>
    </div>
  </div>
</div>
